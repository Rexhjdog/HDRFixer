<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="HDRFixer.App.Views.AutoHdrPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:HDRFixer.App.ViewModels">
    <ScrollViewer Padding="24">
        <StackPanel Spacing="16">
            <TextBlock Text="{x:Bind ViewModel.Title}" Style="{StaticResource TitleTextBlockStyle}" />

            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" CornerRadius="8" Padding="20">
                <StackPanel Spacing="12">
                    <TextBlock Text="Global Settings" Style="{StaticResource SubtitleTextBlockStyle}" />
                    <ToggleSwitch Header="Enable Auto HDR" IsOn="{x:Bind ViewModel.IsGlobalEnabled, Mode=TwoWay}" />
                    <ToggleSwitch Header="Auto HDR Split Screen (Debug)" IsOn="{x:Bind ViewModel.IsScreenSplitEnabled, Mode=TwoWay}" />
                </StackPanel>
            </Border>

            <TextBlock Text="Per-Game Overrides" Style="{StaticResource SubtitleTextBlockStyle}" Margin="0,16,0,0" />
            <ItemsControl ItemsSource="{x:Bind ViewModel.Games}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate x:DataType="vm:GameProfileViewModel">
                        <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" CornerRadius="8" Padding="16" Margin="0,0,0,8">
                            <Grid ColumnDefinitions="*,Auto">
                                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                                    <TextBlock Text="{x:Bind Name}" Style="{StaticResource BodyStrongTextBlockStyle}" />
                                    <TextBlock Text="{x:Bind Path}" Style="{StaticResource CaptionTextBlockStyle}" Opacity="0.6" />
                                </StackPanel>
                                <ToggleSwitch Grid.Column="1" IsOn="{x:Bind ForceAutoHdr, Mode=TwoWay}" OnContent="Forced" OffContent="Default" />
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>
    </ScrollViewer>
</Page>
